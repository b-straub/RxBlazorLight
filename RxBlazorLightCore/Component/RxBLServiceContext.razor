@typeparam TService where TService : RxBLServiceBase
@implements IDisposable

<CascadingValue Value=@ServiceInitialized>
    @ChildContent
</CascadingValue>

@code {
    [CascadingParameter]
    public required TService Service { get; init; }

    [Parameter]
    public required RenderFragment ChildContent { get; init; }

    public bool ServiceInitialized => _initialized;

    private bool _initialized = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);

        if (firstRender)
        {
            await Service.OnContextInitialized();
            _initialized = true;
        }
    }

    public void Dispose()
    {
        Service.OnContextDisposed();
    }
}
