@typeparam TService
@typeparam TParam
@inherits RxBLServiceChangeSubscriber<TService>

<MudElement>
    <MudDialog>
        <DialogContent>
            @Message
        </DialogContent>
        <DialogActions>
            <MudButton Disabled=@CanNotCancel() Variant="Variant.Filled" Color=@(SuccessOnConfirm ? Color.Error : Color.Success) OnClick="Cancel">Cancel</MudButton>
            @if (ChangeStateAsyncCancel is not null)
            {
                <MudButtonAsyncCancelRx @ref=_buttonRef Variant="Variant.Filled" Color=@(SuccessOnConfirm ? Color.Success : Color.Error)
                                  T=@TParam State=@State ChangeStateAsync=@ChangeStateAsyncCancel CanChange=@CanChange CancelColor=@CancelColor CancelText=@CancelText HasProgress=@HasProgress>
                    @ConfirmButton
                </MudButtonAsyncCancelRx>
            }
            else
            {
                <MudButtonAsyncRx @ref=_buttonRef Variant="Variant.Filled" Color=@(SuccessOnConfirm ? Color.Success : Color.Error)
                                  T=@TParam State=@State ChangeStateAsync=@(ChangeStateAsync!) CanChange=@CanChange HasProgress=@HasProgress>
                    @ConfirmButton
                </MudButtonAsyncRx>
            }
        </DialogActions>
    </MudDialog>
</MudElement>