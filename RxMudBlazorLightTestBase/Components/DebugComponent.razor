@inherits OwningComponentBase<TestService>

<DisplayRenderCycle Owner=@Service>
    <PageTitle>Debug</PageTitle>

    <MudStack AlignItems=@AlignItems.Start>
        <DebugComponentChild1 Owner=@Service Filter=@( [Service.OwnerID, Service.ServiceStateCMD.StateID])/>
        <DebugComponentChild2 Owner=@Service Filter=@( [Service.ServiceStateCMDAsync.StateID])/>
    </MudStack>
</DisplayRenderCycle>

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            if (!Service.Initialized)
            {
                await Service.OnContextReadyAsync();
            }
        }

        await base.OnAfterRenderAsync(firstRender);
    }
}